---
title: Proxy to another website
description: Learn how to mount a website on your domain
keywords:
  - flaregun
  - proxyflare
  - reverse proxy
  - cloudflare pages
  - docs
slug: proxy-website
sidebar_position: 2
---

Imagine we have separate documentation and blogging sites that we want to mount on `proxyflare.works/docs` and `proxyflare.works/blog`. Proxyflare can proxy content rich websites with a little additional setup.

You'll need to be aware of the following concepts described below:

1. On your website, set the `baseUrl` or equivalent configuration option
1. In your Proxyflare configuration, set `Route["to.website.mode"]`
1. In your Proxyflare configuration, set `Route["to.website.resources"]`

### Setting the base URL for your website

Most modern website engines such as WordPress and Docusaurus allow you to set the base URL. The base URL is the root path after the host. For example, `/docs/` is the base URL of the Docusaurus-powered website mounted on https://proxyflare.works/docs.

In order for your website to route correctly and generate accurate links, its base URL must match your Proxyflare `Route["from.pattern"]`. For our own documentation site, we set:

- In _docusaurus.config.js_, `baseUrl = /blog/`
- In our Proxyflare route, `Route["from.pattern"]: proxyflare.works/blog/*`

To learn how to set the base URL for your site, please refer to the website engine's documentation.

- [In Docusaurus](https://docusaurus.io/docs/api/docusaurus-config#baseUrl), set `baseURL`
- [In WordPress](https://wordpress.org/support/article/changing-the-site-url/), set `siteurl`
- [In Redocly](https://redocly.com/docs/developer-portal/settings/custom-domain/), set a custom domain
- [In Django](https://pypi.org/project/django-base-url/), set `django-base-url`

### Route["to.website.mode"]: true | "spa"

This option determines how Proxyflare handles website requests. If your website engine outputs statically rendered content, such as WordPress or Django, no configuration is needed (the default value `true` will be used).

For websites and website engines that run on modern single page app frameworks like React, Angular, and Vue, set `to.website.mode="spa"` to leverage its client-side router.

:::info Note

Check your website engine documentation if you aren't sure whether it statically renders content or utilizes client-side routing.

:::

### Route["to.website.resources"]: string[]

When a web page loads, the browser makes additional requests for page resources like images, scripts, and stylesheets. If any of these resources fail to load, the website may appear partially loaded or even broken. To ensure a website loads fully, Proxyflare needs to know how to route resource requests to the right service.

For example, when `https://proxyflare.works/blog` loads, the browser makes the following resouce request for a stylesheet: `GET https://proxyflare.works/wp-content/style.css`. But without more information, Proxyflare won't know whether `ProxiedRequest` should go to the blog service or the origin. To ensure the resource is served, we must tell Proxyflare to make `ProxiedRequest` to the blog service.

```ts
// functions/[[path]].ts
const blogRoute: Route = {
  from: { pattern: "proxyflare.works/blog/*" },
  to: {
    url: "https://wordpress-on-proxyflare.xyz",
    website: {
      resources: [
        "proxyflare.works/wp-content/*",
        "proxyflare.works/wp-includes/*",
      ],
    },
  },
}

const routes = [blogRoute]
```

To help Proxyflare identify the resource request, we include the stylesheet in `blogRoute["to.website.resources"]`. But rather than listing the full URL `(proxyflare.works/wp-content/style.css)`, we can use wildcard patterns to send all resource traffic from `proxyflare.works/wp-content/*` and `proxyflare.works/wp-includes/*` to the WordPress blog on `wordpress-on-proxyflare.xyz`.

But how did we know to add these particular patterns in `Route["to.website.resources"]`? The quickest way is to open your browser's `Developer Tools > Network` to identify failing requests for website resources like images, scripts, and stylesheets.

:::info

If your website appears partially loaded or broken, one or more static resources may not be correctly configured in `Route["to.website.resources"]`

:::

ADD GIFS HERE

Here's another `Route` that mounts our [Docusaurus](https://docusaurus.io/)-powered [documentation website](https://docusaurus-on-proxyflare.vercel.app) on `proxyflare.works/docs/*`.

```ts
// functions/[[path]].ts
const docsRoute: Route = {
  from: { pattern: "proxyflare.works/docs/*" },
  to: {
    url: "https://docusaurus-on-proxyflare.vercel.app",
    website: {
      mode: "spa",
      resources: [
        "proxyflare.works/docs/img/*",
        "proxyflare.works/docs/assets/*",
        "proxyflare.works/docs/manifest.json",
      ],
    },
  },
}

const routes = [docsRoute]
```

:::caution CHALLENGE

Inspect the `Network` tab on https://proxyflare.works/docs to see if you can identify why the three patterns in `docsRoute["to.website.resources"]` are listed.

:::
